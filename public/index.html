<html>

<head>
    <meta charset="UTF-8">
    <style>
        /*body {*/
            /*display: flex;*/
            /*flex-direction: column-reverse;*/
        /*}*/
        h1 {
            text-align: center;
            color: palevioletred;
        }
        .red {
            color: red;
        }
    </style>
    <script>
        var socket = new WebSocket('ws://localhost:8080');
        socket.addEventListener('open', function (event) {
            console.log("connected", event);
        });
        socket.addEventListener('message', function (event) {
            console.log(JSON.parse(event.data));
            const p = document.createElement("p");
            const parse = JSON.parse(event.data);
            const text = document.createTextNode(parse.tweet);
            if(parse.test === true) {
                p.classList.add("red");
            }
            p.appendChild(text);
            document.body.appendChild(p);

            //if(test === false)
            //console.log("new message", event.data);
            socket.send("client message");
        });
    </script>
</head>

<body>
<h1> Création d'un modérateur, tous les tweets rouges possèdent des insultes </h1>
</body>

</html>